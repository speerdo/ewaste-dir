---
import { Image } from 'astro:assets';
import {
  losAngelesImg, sanFranciscoImg, newYorkCityImg, austinImg,
  houstonImg, chicagoImg, seattleImg, bostonImg,
  atlantaImg, denverImg, miamiImg, lasVegasImg
} from '../assets/images';
import type { ImageMetadata } from 'astro';

interface PopularCity {
  state: string;
  city: string;
  image: ImageMetadata;
}

// Curated list of major cities with high population and likely e-waste recycling needs
const popularCities: PopularCity[] = [
  { state: "California", city: "Los Angeles", image: losAngelesImg },
  { state: "California", city: "San Francisco", image: sanFranciscoImg },
  { state: "New York", city: "New York", image: newYorkCityImg },
  { state: "Texas", city: "Austin", image: austinImg },
  { state: "Texas", city: "Houston", image: houstonImg },
  { state: "Illinois", city: "Chicago", image: chicagoImg },
  { state: "Washington", city: "Seattle", image: seattleImg },
  { state: "Massachusetts", city: "Boston", image: bostonImg },
  { state: "Georgia", city: "Atlanta", image: atlantaImg },
  { state: "Colorado", city: "Denver", image: denverImg },
  { state: "Florida", city: "Miami", image: miamiImg },
  { state: "Nevada", city: "Las Vegas", image: lasVegasImg }
];
---

<section class="py-16 bg-white">
  <div class="container mx-auto px-4 pb-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-display font-bold text-gray-900">Popular Cities</h2>
      <p class="mt-3 text-lg text-gray-600 max-w-2xl mx-auto">Find electronics recycling centers in major metropolitan areas</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      {popularCities.map(({ state, city, image }) => (
        <a 
          href={`/states/${state.toLowerCase().replace(/\s+/g, '-')}/${city.toLowerCase().replace(/\s+/g, '-')}`}
          class="group relative overflow-hidden rounded-xl aspect-[4/3] transform hover:-translate-y-1 transition-all duration-300"
        >
          <div class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors z-10"></div>
          <Image
            src={image}
            alt={`${city}, ${state}`}
            width={400}
            height={300}
            loading="lazy"
            class="absolute inset-0 w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
          />
          <div class="absolute inset-0 z-20 p-6 flex flex-col justify-end">
            <h3 class="font-bold text-2xl text-white drop-shadow-lg">{city}</h3>
            <p class="text-white/90 text-sm mt-1 drop-shadow-lg">{state}</p>
          </div>
        </a>
      ))}
    </div>
  </div>
</section>
